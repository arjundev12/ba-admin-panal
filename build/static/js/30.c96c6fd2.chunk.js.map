{"version":3,"sources":["constant.js","views/subscription/addSubscription.js"],"names":["baseUrl","img_url","AddSubscription","history","useHistory","useState","title","price","days","addsubscription","setAddsubscription","useEffect","onInputChange","e","target","name","value","formErrors","setFormErrors","handleFormValidation","a","formIsValid","test","onSubmit","preventDefault","console","warn","axios","post","CONSTANT","res","log","data","toast","message","setTimeout","push","priceErr","className","type","placeholder","onChange","style","color","paddingBottom"],"mappings":"6KAAA,oEAAO,IAAMA,EAAW,yBAGXC,EAAU,2B,yMC6GRC,UArGS,WACtB,IAAIC,EAAUC,cACd,EAA8CC,mBAAS,CACrDC,MAAO,GACPC,MAAO,GACPC,KAAO,KAHT,mBAAOC,EAAP,KAAwBC,EAAxB,KAOQJ,EAAsBG,EAAtBH,MAAOC,EAAeE,EAAfF,MAAeE,EAARD,KACtBG,qBAAU,cAEP,IACH,IAAMC,EAAgB,SAAAC,GACpBH,EAAmB,2BAAKD,GAAN,kBAAwBI,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAGrE,EAAoCX,mBAAS,IAA7C,mBAAOY,EAAP,KAAmBC,EAAnB,KACMC,EAAoB,uCAAG,gCAAAC,EAAA,6DACGX,EAAtBH,MAAOC,EAAeE,EAAfF,MAAeE,EAARD,KAClBS,EAAa,GACbI,GAAc,EAEbd,EAGIA,IACU,gBACDe,KAAKf,KACnBc,GAAc,EACdJ,EAAU,SAAe,uDAN3BI,GAAc,EACdJ,EAAU,SAAe,sBAU3BC,EAAcD,GAjBa,kBAkBpBI,GAlBoB,2CAAH,qDAoBpBE,EAAQ,uCAAG,WAAMV,GAAN,eAAAO,EAAA,6DACfP,EAAEW,iBADa,SAEaL,IAFb,0CAIbM,QAAQC,KAAK,WAAYjB,GAJZ,SAKKkB,IAAMC,KAAN,UAAcC,IAAd,+BAA6DpB,GALlE,OAKPqB,EALO,OAMbL,QAAQM,IAAID,EAAIE,MAChBC,YAAMH,EAAIE,KAAKE,SACfC,YAAW,WAAchC,EAAQiC,KAAK,mBAAqB,KAR9C,4CAAH,sDAWNC,EAAapB,EAAboB,SACR,OACE,qBAAKC,UAAU,YAAf,SACE,sBAAKA,UAAU,0BAAf,UACE,oBAAIA,UAAU,mBAAd,mCACA,uBAAMf,SAAU,SAAAV,GAAC,OAAIU,EAASV,IAA9B,UAEE,sBAAKyB,UAAU,aAAf,UACE,2CACA,uBACEC,KAAK,OACLD,UAAU,+BACVE,YAAY,6BACZzB,KAAK,QACLC,MAAOV,EACPmC,SAAU,SAAA5B,GAAC,OAAID,EAAcC,SAGjC,sBAAKyB,UAAU,aAAf,UACE,2CACA,uBACEC,KAAK,OACLD,UAAU,+BACVE,YAAY,yBACZzB,KAAK,QACLC,MAAOT,EACPkC,SAAU,SAAA5B,GAAC,OAAID,EAAcC,MAE5BwB,GACG,qBAAKK,MAAO,CAAEC,MAAO,MAAOC,cAAe,IAA3C,SAAkDP,OAG1D,sBAAKC,UAAU,sBAAf,UACE,oDACA,yBAAQA,UAAU,eAAevB,KAAK,OACpC0B,SAAU,SAAA5B,GAAC,OAAID,EAAcC,IAD/B,UAEE,wBAAQG,MAAO,KAAf,uBACA,wBAAQA,MAAO,KAAf,uBACA,wBAAQA,MAAO,KAAf,6BAIJ,wBAAQsB,UAAU,4BAAlB,sCAEF,cAAC,IAAD","file":"static/js/30.c96c6fd2.chunk.js","sourcesContent":["export const baseUrl  = \"http://3.12.65.48:4001\"\r\n// export const baseUrl  = \"http://localhost:4001\"\r\n// export const img_url = \"http://localhost:4001/\"\r\nexport const img_url = \"http://3.12.65.48:4001/\"\r\nexport const CONSTANT_NUMBER_2 = 'hello I am also a constant';\r\nexport const sample_file = 'http://3.12.65.48:4001/src/assets/samplesheet.xlsx'","import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport *as  CONSTANT from '../../constant'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport '../../css/style.css'\r\n\r\n\r\nconst AddSubscription = () => {\r\n  let history = useHistory();\r\n  const [addsubscription, setAddsubscription] = useState({\r\n    title: \"\",\r\n    price: \"\",\r\n    days : \"\"\r\n  });\r\n\r\n\r\n  const { title, price ,days} = addsubscription;\r\n  useEffect(() => {\r\n    // loadCategory()\r\n  }, []);\r\n  const onInputChange = e => {\r\n    setAddsubscription({ ...addsubscription, [e.target.name]: e.target.value });\r\n  };\r\n  ////////////////////////////////validation //////////////\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const handleFormValidation = async () => {\r\n    const { title, price ,days} = addsubscription;\r\n    let formErrors = {};\r\n    let formIsValid = true;\r\n    //price number    \r\n    if (!price) {\r\n      formIsValid = false;\r\n      formErrors[\"priceErr\"] = \"Price is required.\";\r\n    }else if(price){\r\n      var mobPattern = /^[0-9]{0,6}$/i\r\n      if (!mobPattern.test(price)) {\r\n        formIsValid = false;\r\n        formErrors[\"priceErr\"] = \"Invalid price number please enter maximum 6 digit\";\r\n      }\r\n    }\r\n\r\n\r\n    setFormErrors(formErrors ); \r\n    return formIsValid;\r\n  }\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    let checkvalidation = await handleFormValidation()\r\n    if (checkvalidation) {\r\n      console.warn(\"onsumbit\", addsubscription)\r\n      const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/add-subscription`, addsubscription);\r\n      console.log(res.data)\r\n      toast(res.data.message);\r\n      setTimeout(function () { history.push(\"/subscription\"); }, 1000);\r\n    } \r\n  };\r\n  const { priceErr } = formErrors\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"w-75 mx-auto shadow p-5\">\r\n        <h2 className=\"text-center mb-4\">Add Subscription pack</h2>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n\r\n          <div className=\"form-group\">\r\n            <label> Title</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter question description\"\r\n              name=\"title\"\r\n              value={title}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label> Price</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter info description\"\r\n              name=\"price\"\r\n              value={price}\r\n              onChange={e => onInputChange(e)}\r\n              />    \r\n              {priceErr &&    \r\n                  <div style={{ color: \"red\", paddingBottom: 10 }}>{priceErr}</div>    \r\n              } \r\n          </div>\r\n          <div className=\"form-group col-sm-6\">\r\n            <label>Expiration Time</label>\r\n            <select className=\"form-control\" name=\"days\"\r\n              onChange={e => onInputChange(e)} >\r\n              <option value={\"30\"}> 30 days </option>\r\n              <option value={\"60\"}> 60 days </option>\r\n              <option value={\"90\"}> 90 days </option>\r\n              {/* <option  value={\"D\"}> D </option> */}\r\n            </select>\r\n          </div>\r\n          <button className=\"btn btn-primary btn-block\">Add Subscription pack</button>\r\n        </form>\r\n        <ToastContainer />\r\n\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default AddSubscription;"],"sourceRoot":""}
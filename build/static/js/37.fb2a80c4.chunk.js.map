{"version":3,"sources":["constant.js","views/subcategories/addSubcategory.js"],"names":["baseUrl","img_url","AddSubCategories","history","useHistory","useState","name","content","image","category_meta","subcategory","setSubCategory","category","setCategory","categorymeta","setCategorymeta","useEffect","loadCategory","onInputChange2","e","a","console","log","target","value","axios","get","CONSTANT","then","data1","data","catch","err","toast","message","onSubmit","preventDefault","warn","post","res","setTimeout","push","alert","className","class","onChange","map","option","index","type","placeholder","onInputChange"],"mappings":"6KAAA,oEAAO,IAAMA,EAAW,yBAGXC,EAAU,2B,4KCoIRC,UA/HU,WACvB,IAAIC,EAAUC,cACd,EAAsCC,mBAAS,CAC7CC,KAAM,GACNC,QAAS,GACTC,MAAO,GACPC,cAAe,KAJjB,mBAAOC,EAAP,KAAoBC,EAApB,KAOA,EAAgCN,mBAAS,IAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAwCR,qBAAxC,mBAAOS,EAAP,KAAqBC,EAArB,KAIA,EAA0BV,mBAAS,IAAnC,mBAEQC,GAFR,UAE0BI,EAAlBJ,MAAkBI,EAAZH,QAEdS,qBAAU,WACRC,MACC,IAEH,IAIMC,EAAc,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACrBC,QAAQC,IAAI,eAAgBH,EAAEI,OAAOjB,KAAMa,EAAEI,OAAOC,OAD/B,SAEhBT,EAAgBH,EAASO,EAAEI,OAAOC,QAFlB,2CAAH,sDAKdP,EAAY,uCAAG,sBAAAG,EAAA,sEACbK,IAAMC,IAAN,UAAaC,IAAb,6BAAyDC,MAAK,SAACC,GACnEhB,EAAYgB,EAAMC,KAAKA,SACtBC,OAAM,SAACC,GACRC,YAAMD,EAAIF,KAAKI,YAJE,2CAAH,qDA6BZC,EAAQ,uCAAG,WAAMhB,GAAN,eAAAC,EAAA,yDACfD,EAAEiB,iBACFf,QAAQgB,KAAK,WAAY3B,IACtBI,EAHY,wBAIbJ,EAAYD,cAAcK,EAJb,SAKKW,IAAMa,KAAN,UAAcX,IAAd,8BAA4DjB,GALjE,OAKP6B,EALO,OAMbN,YAAMM,EAAIT,KAAKI,SACfM,YAAW,WAAcrC,EAAQsC,KAAK,oBAAsB,KAP/C,wBASbC,MAAM,8BATO,4CAAH,sDAYd,OACE,sBAAKC,UAAU,YAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,oBAAIA,UAAU,mBAAd,8BACA,uBAAMR,SAAU,SAAAhB,GAAC,OAAIgB,EAAShB,IAA9B,UACE,sBAAKyB,MAAM,sBAAX,UACE,sDACA,yBAAQA,MAAM,eACZC,SAAU,SAAA1B,GAAC,OAAID,EAAeC,IADhC,UAEK,wBAASK,MAAO,MAAhB,SACE,WAGHZ,EAASkC,KAAI,SAACC,EAAQC,GAAT,OAAmB,wBAAoBxB,MAAOwB,EAA3B,SAC7BD,EAAOzC,MADmC0C,YAQnD,qBAAKL,UAAU,aAAf,SACE,uBACEM,KAAK,OACLN,UAAU,+BACVO,YAAY,aACZ5C,KAAK,OACLkB,MAAOlB,EACPuC,SAAU,SAAA1B,GAAC,OA9ED,SAAAA,GAEpBR,EAAe,2BAAKD,GAAN,kBAAoBS,EAAEI,OAAOjB,KAAOa,EAAEI,OAAOC,SA4ElC2B,CAAchC,QAkBjC,wBAAQwB,UAAU,4BAAlB,mCAIJ,cAAC,IAAD","file":"static/js/37.fb2a80c4.chunk.js","sourcesContent":["export const baseUrl  = \"http://3.12.65.48:4001\"\r\n// export const baseUrl  = \"http://localhost:4001\"\r\n// export const img_url = \"http://localhost:4001/\"\r\nexport const img_url = \"http://3.12.65.48:4001/\"\r\nexport const CONSTANT_NUMBER_2 = 'hello I am also a constant';\r\nexport const sample_file = 'http://3.12.65.48:4001/src/assets/samplesheet.xlsx'","import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport *as  CONSTANT from '../../constant'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nconst AddSubCategories = () => {\r\n  let history = useHistory();\r\n  const [subcategory, setSubCategory] = useState({\r\n    name: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n    category_meta: {}\r\n  });\r\n \r\n  const [category, setCategory] = useState([]);\r\n  const [categorymeta, setCategorymeta] = useState();\r\n  // const options = {\r\n  //   headers: {'token': localStorage.getItem('token')}\r\n  // };\r\n  const [image, setImage] = useState({});\r\n\r\n  const { name, content } = subcategory;\r\n\r\n  useEffect(() => {\r\n    loadCategory();\r\n  }, []);\r\n\r\n  const onInputChange = e => {\r\n    // console.log(\"eeeeeeeeeeee\", e.target.name, e.target.value)\r\n    setSubCategory({ ...subcategory, [e.target.name]: e.target.value });\r\n  };\r\n  const onInputChange2 = async (e) => {\r\n    console.log(\"eeeeeeeeeeee\", e.target.name, e.target.value)\r\n   await setCategorymeta(category[e.target.value])\r\n  };\r\n \r\n  const loadCategory = async () => {\r\n    await axios.get(`${CONSTANT.baseUrl}/api/admin/category-list`).then((data1) => {\r\n      setCategory(data1.data.data)\r\n    }).catch((err) => {\r\n      toast(err.data.message)\r\n    })\r\n  }\r\n  // const onInputChange1 = async e => {\r\n  //   // setImage({ image: e.target.files[0] });\r\n\r\n  //   let reader = await new FileReader();\r\n  //   reader.readAsDataURL(e.target.files[0]);\r\n  //   reader.onload = function () {\r\n  //     console.warn(\"................\",reader.result)\r\n  //     setImage({image:reader.result })\r\n  //     return\r\n  // };\r\n  // };\r\n  // const uploadImage = async e => {\r\n\r\n  //   const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/upload-image`, image);\r\n  //   if (res.data.code == 200) {\r\n  //     toast(res.data.message);\r\n  //     console.warn(res.data.data)\r\n  //     await setSubCategory({ ...category, image: res.data.data });\r\n\r\n  //   }\r\n  // };\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    console.warn(\"onsumbit\", subcategory)\r\n    if(categorymeta){\r\n      subcategory.category_meta=categorymeta \r\n      const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/add-subcategory`, subcategory);\r\n      toast(res.data.message);\r\n      setTimeout(function () { history.push(\"/subcategories\"); }, 1000);\r\n    }else{\r\n      alert(\"please select any category\")\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"w-75 mx-auto shadow p-5\">\r\n        <h2 className=\"text-center mb-4\">Add Sub Category</h2>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n          <div class=\"form-group col-sm-6\">\r\n            <label>Select Category *</label>\r\n            <select class=\"form-control\"\r\n              onChange={e => onInputChange2(e)} >\r\n                 <option  value={\"N/A\"}>\r\n                  {\"Select\"}\r\n                </option>\r\n              {\r\n                category.map((option, index) => <option key={index} value={index}>\r\n                  {option.name}\r\n                </option>)\r\n              }\r\n              {/* <option value={\"1\"}>Yes</option>\r\n              <option value={\"0\"}>No</option> */}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter name\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div>\r\n          {/* <div className=\"form-group\"> */}\r\n          {/* <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter Your content\"\r\n              name=\"content\"\r\n              value={content}\r\n              onChange={e => onInputChange(e)}\r\n            /> */}\r\n          {/* <ReactQuill theme=\"snow\" value={content} onChange={e => onInputChange2(e)}/>\r\n          </div> */}\r\n          {/* <div><input type=\"file\" name=\"file\" onChange={e => onInputChange1(e)} />\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={e => uploadImage(e)}>Upload</button>\r\n\r\n          </div> */}\r\n          <button className=\"btn btn-primary btn-block\">Add subcategory</button>\r\n        </form>\r\n\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddSubCategories;"],"sourceRoot":""}
{"version":3,"sources":["views/users/Users.js","views/pagination/pagination.js","../node_modules/react-bootstrap/esm/Table.js"],"names":["Users","useHistory","useState","showPerPage","total","setTotal","page","setPage","setIndex","id","email","name","username","user_type","minner_Activity","user","setUser","useParams","search","setSearch","useEffect","loadUser","a","data","limit","Object","keys","length","constructor","searchData","text","options","headers","localStorage","getItem","console","log","axios","post","CONSTANT","res","warn","code","docs","onInputChange1","e","target","value","className","to","type","placeholder","onChange","striped","bordered","hover","map","item","i","onPaginationChange","start","end","Pagination","counter","setCounter","numberOfButtons","setNumberOfButoons","Math","ceil","onButtonClick","aria-label","class","onClick","Array","fill","el","index","_excluded","Table","React","forwardRef","_ref","ref","bsPrefix","borderless","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass"],"mappings":"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","file":"static/js/23.6cd3a86e.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, Link, useParams } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { Button, Table, DropdownButton, Dropdown } from 'react-bootstrap'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport *as  CONSTANT from '../../constant'\r\nimport Pagination from '../pagination/pagination'\r\n\r\nimport '../../css/style.css'\r\nconst Users = () => {\r\n    const history = useHistory()\r\n    //////////////////////////////////pagination/////////////////////////////////////\r\n    const [showPerPage, setShowPerPage] = useState(10);\r\n    const [total, setTotal] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n    const [index, setIndex] = useState(1);\r\n\r\n    const onPaginationChange = (start, end) => {\r\n        console.warn(\"getee, \", start, end)\r\n        setPage(start)\r\n        setIndex(end)\r\n    };\r\n    const [user, setUser] = useState([{\r\n        id: \"\",\r\n        email: \"\",\r\n        name: \"\",\r\n        username: \"\",\r\n        user_type: \"\",\r\n        minner_Activity: \"\",\r\n    }]);\r\n    const { id } = useParams();\r\n    const [search, setSearch] = useState({});\r\n    useEffect(() => {\r\n        loadUser();\r\n    }, [page, total, search]);\r\n    const loadUser = async () => {\r\n        let array = []\r\n        const data = {\r\n            page: page,\r\n            limit: 10\r\n        }\r\n        if (!(Object.keys(search).length === 0 && search.constructor === Object)) {\r\n            data.searchData = search.text\r\n        }\r\n        const options = {\r\n            headers: {'token': localStorage.getItem('token')}\r\n          };\r\n        console.log(\"datarequest \", data)\r\n        const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/get-user`, data, options);\r\n        console.warn(res.data.data)\r\n        if (res.data.code == 200) {\r\n            // toast(\"List get successfully\")\r\n            setUser(res.data.data.docs);\r\n            await setTotal(res.data.data.total)\r\n        }\r\n\r\n    };\r\n    const onInputChange = async (e, item) => {\r\n        console.warn(\"oninput change data \", e.target.value, item)\r\n        let data = {}\r\n        data.minner_Activity = e.target.value\r\n        data._id = item._id\r\n        data.login_type = item.login_type\r\n        const options = {\r\n            headers: {'token': localStorage.getItem('token')}\r\n          };\r\n        await axios.post(`${CONSTANT.baseUrl}/api/admin/update-profile`, data,options ).then(data1 => {\r\n            // console.log(\"response\", data1)\r\n            // toast(data1.data.data.message)\r\n            loadUser()\r\n        }).catch(err => {\r\n            console.log(\"error\", err)\r\n            toast(err.data.message)\r\n        })\r\n\r\n    };\r\n    const onInputChange1 = async (e) => {\r\n        console.log(\"search text\", e.target.name, e.target.value)\r\n        setSearch({ ...search, [e.target.name]: e.target.value });\r\n    }\r\n    const userBlock = async (e, id, type) => {\r\n        console.log(\"item data\", id, type)\r\n        let data = {}\r\n        data._id = id\r\n        data.block_user = type\r\n        const options = {\r\n            headers: {'token': localStorage.getItem('token')}\r\n          };\r\n        await axios.put(`${CONSTANT.baseUrl}/api/admin/update-user`, data, options).then(data1 => {\r\n            // console.log(\"response\", data1)\r\n            // toast(data1.data.data.message)\r\n            loadUser()\r\n        }).catch(err => {\r\n            console.log(\"error\", err)\r\n            toast(err.data.message)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link className=\"btn btn-primary\" to=\"/users/add-users\">\r\n                Add User\r\n            </Link>\r\n            <div className=\"searchBox\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"searchBox\"\r\n                    placeholder=\"search here....\"\r\n                    name=\"text\"\r\n                    value={search.text}\r\n                    onChange={e => onInputChange1(e)}\r\n                />\r\n            </div>\r\n\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>S.no</th>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                        <th>Username</th>\r\n                        <th>Type</th>\r\n                        {/* <th>Minner Status</th> */}\r\n                        {/* <th className=\"address\">type</th> */}\r\n                        {/* <th>Actions</th> */}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        user.map((item, i) => <tr>\r\n                            <td>{i + 1}</td>\r\n                            <td>{item.name}</td>\r\n                            <td>{item.email}</td>\r\n                            <td>{item.username}</td>\r\n                            <td>{item.user_type}</td>\r\n                            {/* <td>{item.minner_Activity + \"\"}</td> */}\r\n                            {/* <td>\r\n                                <select className=\"form-control\" name=\"minner_Activity\" value={item.minner_Activity}\r\n                                    onChange={e => onInputChange(e, item)}>\r\n                                    <option value={true} >Active</option>\r\n                                    <option value={false}>Inactive</option>\r\n                                </select></td> */}\r\n                            {/* <td><Link className=\"btn btn-primary mr-2 \" to={`/user/${item._id}`}>view </Link>\r\n                                {item.block_user == '1' ? (\r\n                                    <Button className=\"btn btn-primary bg-red mr-2\" onClick={e => userBlock(e, item._id, \"0\")}> Blocked </Button>\r\n                                ) : (\r\n                                    <Button className=\"btn btn-primary bg-green mr-2\" onClick={e => userBlock(e, item._id, \"1\")}> Unblock </Button>\r\n                                )}\r\n                                \r\n                            </td> */}\r\n                        </tr>)\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n            <ToastContainer />\r\n            {\r\n                total > 0? <Pagination\r\n                showPerPage={showPerPage}\r\n                onPaginationChange={onPaginationChange}\r\n                total={total}\r\n                page={page}\r\n            />:\"\"\r\n            }\r\n            {/* <Pagination\r\n                showPerPage={showPerPage}\r\n                onPaginationChange={onPaginationChange}\r\n                total={total}\r\n                page={page}\r\n            /> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Table } from 'react-bootstrap'\r\nconst Pagination = ({ showPerPage, onPaginationChange, total,page }) => {\r\n  const [counter, setCounter] = useState(page);\r\n  const [numberOfButtons, setNumberOfButoons] = useState(\r\n  );\r\n\r\n console.log(\"numberOfButtons\",numberOfButtons )\r\n console.log(\"total\",total )\r\n console.log(\"counter\",counter )\r\n console.log(\"showPerPage\",showPerPage )\r\n  useEffect(() => {\r\n    const value = showPerPage * counter;\r\n    onPaginationChange(counter, value - showPerPage);\r\n    setNumberOfButoons(Math.ceil(total / showPerPage))\r\n  }, [counter]);\r\n\r\n  const onButtonClick = (type) => {\r\n    if (type === \"prev\") {\r\n      if (counter === 1) {\r\n        setCounter(1);\r\n      } else {\r\n        setCounter(counter - 1);\r\n      }\r\n    } else if (type === \"next\") {\r\n      if (numberOfButtons === counter) {\r\n        setCounter(counter);\r\n      } else {\r\n        setCounter(counter + 1);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul class=\"pagination\">\r\n          <li class=\"page-item\">\r\n            <a\r\n              class=\"page-link\"\r\n              // href=\"!#\"\r\n              onClick={() => onButtonClick(\"prev\")}\r\n            >\r\n              Previous\r\n            </a>\r\n          </li>\r\n\r\n          {new Array(numberOfButtons).fill(\"\").map((el, index) => (\r\n            <li class={`page-item ${index + 1 === counter ? \"active\" : null}`}>\r\n              <a\r\n                class=\"page-link\"\r\n                // href=\"!#\"\r\n                onClick={() => setCounter(index + 1)}\r\n              >\r\n                {index + 1}\r\n              </a>\r\n            </li>\r\n          ))}\r\n          <li class=\"page-item\">\r\n            <a\r\n              class=\"page-link\"\r\n              // href=\"!#\"\r\n              onClick={() => onButtonClick(\"next\")}\r\n            >\r\n              Next\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;"],"sourceRoot":""}
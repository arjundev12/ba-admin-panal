{"version":3,"sources":["constant.js","views/varification/viewDoc.js"],"names":["baseUrl","img_url","ViewDoc","match","history","useHistory","useState","doc","setDoc","_id","isDocumentVerify","status","setStatus","id","useParams","options","headers","localStorage","getItem","useEffect","getdata","a","axios","get","CONSTANT","res","res1","console","warn","data","code","toast","document","is_complete_kyc","onSubmit","e","preventDefault","log","put","response","setTimeout","push","onInputChange","target","value","lang","class","map","item","i","width","height","src","alt","name","onChange","onClick"],"mappings":"6KAAA,oEAAO,IAAMA,EAAW,yBAGXC,EAAU,2B,yNC8HRC,UAxHC,SAAC,GAAc,EAAZC,MAAa,IACxBC,EAAUC,cAEd,EAAsBC,mBAAS,IAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAA4BF,mBAAS,CACjCG,IAAK,GACLC,iBAAkB,KAFtB,mBAAOC,EAAP,KAAeC,EAAf,KAIQC,EAAOC,cAAPD,GACFE,EAAU,CACZC,QAAS,CAAC,MAASC,aAAaC,QAAQ,WAE5CC,qBAAU,WAENC,MACD,IACH,IAAMA,EAAO,uCAAG,8BAAAC,EAAA,sEAEMC,IAAMC,IAAN,UAAaC,IAAb,iCAAsDX,GAAKE,GAFjE,cAENU,EAFM,gBAGOH,IAAMC,IAAN,UAAaC,IAAb,uCAA4DX,GAAKE,GAHxE,UAGNW,EAHM,OAIZC,QAAQC,KAAK,kBAAmBH,EAAII,MACf,KAAjBJ,EAAII,KAAKC,KALD,iBAMRC,YAAM,uBACNJ,QAAQC,KAAKH,EAAII,MAPT,+BASRE,YAAM,oBATE,UAUFvB,EAAOiB,EAAII,KAAKA,KAAKG,UAVnB,yBAWFpB,EAAU,CACZH,IAAKiB,EAAKG,KAAKA,KAAKpB,IACpBwB,gBAAiBP,EAAKG,KAAKA,KAAKI,kBAb5B,4CAAH,qDAkBLC,EAAQ,uCAAG,WAAMC,GAAN,iBAAAd,EAAA,6DACfc,EAAEC,iBACFT,QAAQC,KAAK,WAAYO,GACrBN,EAAO,GACPlB,EAAOsB,kBACTJ,EAAKI,gBAAkBtB,EAAOsB,iBAEhCJ,EAAKpB,IAAME,EAAOF,IAClBkB,QAAQU,IAAI,WAAYR,GART,SASMP,IAAMgB,IAAN,UAAad,IAAb,0BAAuDK,EAAMd,GATnE,OAcW,MALtBwB,EATW,QAcFV,KAAKC,MAChBC,YAAM,uBACNS,YAAW,WAAapC,EAAQqC,KAAR,mBAAiC,OAIzDV,YAAM,uBACNJ,QAAQC,KAAKW,IArBA,4CAAH,sDAwBVG,EAAa,uCAAG,WAAMP,GAAN,SAAAd,EAAA,6DAClBM,QAAQC,KAAK,8BAA+BjB,GAD1B,SAEZC,EAAU,CACZH,IAAKE,EAAOF,IACZwB,gBAAiBE,EAAEQ,OAAOC,QAJZ,OAMlBjB,QAAQC,KAAK,6BAA8BjB,GANzB,2CAAH,sDASnB,OACI,qCAEI,sBAAMkC,KAAK,KAAX,SAEI,iCACI,qBAAKC,MAAM,yBAAX,SAEI,qBAAKA,MAAM,YAAX,SAEI,qBAAKA,MAAM,MAAX,SACI,qBAAKA,MAAM,mDAAX,SACI,qBAAKA,MAAM,iEAAX,SAEQvC,EAAIwC,KAAI,SAACC,EAAMC,GAAP,OAEJ,cADA,CACA,oBAEKA,EAAI,EAFT,IAEY,qBAAKC,MAAM,MAAMC,OAAO,MAAMC,IAAK5B,IAAmBwB,EAAMF,MAAM,+DAA+DO,IAAI,6BAS7K,sBAAMP,MAAM,WAAZ,SACI,qBAAKA,MAAM,uBAAX,SAEI,qBAAIA,MAAM,iBAAV,UAA2B,yBAAQA,MAAM,2BAA2BQ,KAAK,kBAAkBV,MAAOjC,EAAOsB,gBAAiBsB,SAAU,SAAApB,GAAC,OAAIO,EAAcP,IAA5H,UAEvB,wBAAQS,MAAO,IAAf,sBACA,wBAAQA,MAAO,IAAf,qBACA,wBAAQA,MAAO,IAAf,2BAGA,wBAAQE,MAAO,aAAaU,QAAS,SAAArB,GAAC,OAAGD,EAASC,IAAlD,gCAWpB,cAAC,IAAD","file":"static/js/23.d72a91c1.chunk.js","sourcesContent":["export const baseUrl  = \"http://3.12.65.48:4001\"\r\n// export const baseUrl  = \"http://localhost:4001\"\r\n// export const img_url = \"http://localhost:4001/\"\r\nexport const img_url = \"http://3.12.65.48:4001/\"\r\nexport const CONSTANT_NUMBER_2 = 'hello I am also a constant';\r\nexport const sample_file = 'http://3.12.65.48:4001/src/assets/samplesheet.xlsx'","import React, { useState, useEffect } from 'react'\r\nimport { CCard, CCardBody, CCardHeader, CCol, CRow } from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport axios from \"axios\";\r\nimport { useHistory, useLocation, Link, useParams } from 'react-router-dom'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport *as  CONSTANT from '../../constant'\r\nimport '../../css/style.css'\r\nconst ViewDoc = ({ match }) => {\r\n    let history = useHistory();\r\n    // const user = usersData.find( user => user.id.toString() === match.params.id)\r\n    const [doc, setDoc] = useState([]);\r\n    const [status, setStatus] = useState({\r\n        _id: \"\",\r\n        isDocumentVerify: \"\"\r\n    });\r\n    const { id } = useParams();\r\n    const options = {\r\n        headers: {'token': localStorage.getItem('token')}\r\n      }; \r\n    useEffect(() => {\r\n        // console.warn(\"params\", match.params.id)\r\n        getdata()\r\n    }, []);\r\n    const getdata = async () => {\r\n\r\n        const res = await axios.get(`${CONSTANT.baseUrl}/api/admin/get-kyc?id=${id}`,options);\r\n        const res1 = await axios.get(`${CONSTANT.baseUrl}/api/admin/user-details?_id=${id}`,options)\r\n        console.warn(\"responseviewDoc\", res.data)\r\n        if (res.data.code != 200) {\r\n            toast(\"Somethig went wrong\");\r\n            console.warn(res.data)\r\n        } else {\r\n            toast(\"Get successfully\");\r\n            await setDoc(res.data.data.document);\r\n            await setStatus({\r\n                _id: res1.data.data._id,\r\n                is_complete_kyc: res1.data.data.is_complete_kyc\r\n            })\r\n            //   console.warn(\"set stattatatat\", status)\r\n        }\r\n    }\r\n      const onSubmit = async e => {\r\n        e.preventDefault();\r\n        console.warn(\"onsubmit\", e)\r\n        let data = {}\r\n        if (status.is_complete_kyc) {\r\n          data.is_complete_kyc = status.is_complete_kyc\r\n        }\r\n        data._id = status._id\r\n        console.log(\"daaaaaaa\", data)\r\n        let response = await axios.put(`${CONSTANT.baseUrl}/api/admin/update-user`, data, options);\r\n        // console.log(\"daaaaaaa\", response)\r\n        // history.push(`/user/${user.owner._id}`);\r\n          // setTimeout(function () { history.push(\"/users\"); }, 50000);\r\n\r\n        if (response.data.code == 200) {\r\n          toast(\"Update successfully\");\r\n          setTimeout(function () {history.push(`/verification`) }, 50000);\r\n\r\n        }\r\n        else {\r\n          toast(\"Somthing went wrong\");\r\n          console.warn(response)\r\n        }\r\n      }\r\n    const onInputChange = async e => {\r\n        console.warn(\"oninput change data before \", status)\r\n        await setStatus({\r\n            _id: status._id,\r\n            is_complete_kyc: e.target.value\r\n        });\r\n        console.warn(\"oninput change data after \", status)\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* <!DOCTYPE html> */}\r\n            <html lang=\"en\">\r\n\r\n                <body>\r\n                    <div class=\"home-doctors  clearfix\">\r\n\r\n                        <div class=\"container\">\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-lg-3 col-md-3 col-sm-6  text-center doc-item\">\r\n                                    <div class=\"common-doctor animated fadeInUp clearfix ae-animation-fadeInUp\">\r\n                                        {\r\n                                            doc.map((item, i) =>\r\n                                                // <li>{CONSTANT.img_url+'/'+item}</li>\r\n                                                <figure>\r\n\r\n                                                    {i + 1} <img width=\"670\" height=\"300\" src={CONSTANT.img_url + item} class=\"doc-img animate attachment-gallery-post-single wp-post-image\" alt=\"doctor-2\" />\r\n                                                </figure>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <form class=\"btn-form\" >\r\n                        <div class=\"form-group col-sm-12\">\r\n                            {/* <label\"\">Status</label> */}\r\n                            <h4 class=\"heading-status\"><select class=\"form-control fron-select\" name=\"is_complete_kyc\" value={status.is_complete_kyc} onChange={e => onInputChange(e)}\r\n                            >\r\n                                <option value={'1'} >approved</option>\r\n                                <option value={'2'}>Panding</option>\r\n                                <option value={'0'}>Not Upload</option>\r\n\r\n                            </select>\r\n                                <button class =\"btn-sumbit\" onClick={e=> onSubmit(e)}>Submit</button>\r\n                            </h4>\r\n\r\n                        </div>\r\n                    </form>\r\n                </body>\r\n                {/* <Button className=\"btn btn-primary\" value= \"true\">Current Status</Button>\r\n        <Button className=\"btn btn-primary\" value= \"verify\">Verify</Button>\r\n        <Button className=\"btn btn-primary\" value= \"reject\">Reject</Button>\r\n        <Button className=\"btn btn-primary\" value= \"pending\">Pending</Button> */}\r\n            </html>\r\n            <ToastContainer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ViewDoc\r\n"],"sourceRoot":""}